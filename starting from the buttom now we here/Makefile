# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: atucci <marvin@42.fr>                      +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2023/08/08 16:24:26 by atucci            #+#    #+#              #
#    Updated: 2023/08/08 16:26:32 by atucci           ###   ########.fr        #
#                                                                              #
# **************************************************************************** #


NAME = fdf

#This sets the variable NAME to the name of the executable file that we will build.

SRC = ./fdf.c \
	  ./parsing.c \

#This sets the variable SRC to a list of C source files that are needed to build the push_swap executable.

OBJS = $(SRC:.c=.o)

#This sets the variable OBJS to a list of object files that need to be built from the SRC files.

HDRS = ./fdf.h

#This sets the variable HDRS to the path of the header file that is included in the project.

RM = rm -f

#This sets the variable RM to the command that will be used to remove files.

CC = gcc -Wall -Wextra -Werror

# Color codes for echo commands
GREEN := \033[1;32m
CYAN := \033[1;36m
YELLOW := \033[1;33m
RED := \033[1;31m
RESET := \033[0m

# Corny emojis
DANCING_EMOJI := üï∫
MIC_DROP_EMOJI := üé§üé∂
PARTY_EMOJI := üéâ
TRASH_EMOJI := üóëÔ∏è


#This sets the variable CC to the compiler command with warning flags enabled.

LIBFT = libft/libft.a

#This sets the variable LIBFT to the path of the static library file that we will link to our executable.

.c.o:
	${CC} -I ${HDRS} -c $< -o ${<:.c=.o}

#This is a rule that specifies how to build an object file from a C source file. It compiles the C file with the appropriate flags and options, and outputs the resulting object file.

$(NAME): $(OBJS)
	@echo "$(CYAN)Building $(DANCING_EMOJI)$(NAME) binary...$(RESET)"
	$(MAKE) -C libft
	${CC} -o $(NAME) $(OBJS) $(LIBFT)
		@echo "$(GREEN)$(NAME) binary created successfully! $(MIC_DROP_EMOJI)$(RESET)"


#This is the rule to build the push_swap executable. It depends on the object files generated by the .c.o rule and the libft library. It creates the executable by linking the object files with the library.

all: $(NAME)

#This rule specifies that running make without any arguments will build the push_swap executable.

clean:
	@echo "$(YELLOW)Cleaning up object files...$(RESET)"
	${RM} $(OBJS)
	$(MAKE) -C libft clean

#This rule specifies how to clean up the generated object files.

fclean: clean
	${RM} $(NAME)
	$(MAKE) -C libft fclean

#This rule specifies how to completely remove the generated object files and the push_swap executable.

re: fclean all

